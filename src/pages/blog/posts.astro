---
import MainLayout from "@/layouts/MainLayout.astro";
import BlogGrid from "@/components/ui/BlogGrid.astro";

import { getBlogPosts, initializePostsStore } from "../api/posts";

// Get posts and save them in store
const posts = await initializePostsStore()

if (!posts || posts.length === 0) {
  console.error("No se encontraron posts en el store");
  return [];
}
//const {body: posts} = await getBlogPosts()

---

<MainLayout title="Welcome to Astro.">
  <BlogGrid posts={posts} />
</MainLayout>