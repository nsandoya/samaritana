---
import { getBlogPosts } from "@/pages/api/posts";

import MainLayout from "@/layouts/MainLayout.astro";

import SingleBlogItem from "@/components/ui/SingleBlogItem.astro";

import type { BlogPost } from "@/interfaces/BlogPost";


export async function getStaticPaths() {
    // Get blog posts
    const {body: posts} = await getBlogPosts()
    // Set paths and props
    return posts.map((post:BlogPost) => ({
      params: { slug: post.documentId },
      props: { post },
    })) || [];
}

const { post } = Astro.props;

---

<MainLayout title="Blog">
  <SingleBlogItem post={post} />
</MainLayout>